<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lorenzo Posti’s Machine Learning Quarto blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-listing/list.min.js"></script>
<script src="site_libs/quarto-listing/quarto-listing.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-date','listing-title','listing-author','listing-image','listing-description','listing-categories',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: ["listing-date","listing-title","listing-author","listing-image","listing-description","listing-categories"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-listing'] = new List('listing-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Lorenzo Posti’s Machine Learning Quarto blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about_blog.html">
 <span class="menu-text">About this blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About me</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lposti/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://scholar.google.com/citations?user=fDDcGdwAAAAJ&amp;hl=en"><i class="bi bi-mortarboard-fill" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./lop.html"><i class="bi bi-book-half" role="img">
</i> 
 <span class="menu-text"> </span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <h5 class="quarto-listing-category-title">Categories</h5><div class="quarto-listing-category category-default"><div class="category" data-category="">All <span class="quarto-category-count">(9)</span></div><div class="category" data-category="MCMC">MCMC <span class="quarto-category-count">(1)</span></div><div class="category" data-category="autoencoder">autoencoder <span class="quarto-category-count">(2)</span></div><div class="category" data-category="basics">basics <span class="quarto-category-count">(4)</span></div><div class="category" data-category="bayesian">bayesian <span class="quarto-category-count">(2)</span></div><div class="category" data-category="diffusion">diffusion <span class="quarto-category-count">(1)</span></div><div class="category" data-category="gaussian_processes">gaussian_processes <span class="quarto-category-count">(2)</span></div><div class="category" data-category="jupyter">jupyter <span class="quarto-category-count">(8)</span></div><div class="category" data-category="neural_network">neural_network <span class="quarto-category-count">(6)</span></div><div class="category" data-category="variational autoencoder">variational autoencoder <span class="quarto-category-count">(1)</span></div><div class="category" data-category="vcdisk">vcdisk <span class="quarto-category-count">(1)</span></div></div></div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">







<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">
<div class="quarto-post image-right" data-index="0" data-categories="neural_network,diffusion,jupyter" data-listing-date-sort="1673568000000" data-listing-file-modified-sort="1674143581235" data-listing-reading-time-sort="5.2">
<div class="thumbnail">
<p><a href="./posts/2023-01-diffusion_intro.html"> <img src="./posts/figures/2023-01-13_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2023-01-diffusion_intro.html">
<h3 class="no-anchor listing-title">
Intro to diffusion models from scratch
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('neural_network'); return false;">
neural_network
</div>
<div class="listing-category" onclick="window.quartoListingCategory('diffusion'); return false;">
diffusion
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2023-01-diffusion_intro.html">
<div class="listing-description">
<p>This notebook is an introduction to diffusion models that are currently state-of-the-art in computer vision and in image generation. I build from scratch a diffusion model able to generate realistic rotation curves starting from purely random noise.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2023-01-diffusion_intro.html">
<div class="listing-date">
Jan 13, 2023
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="1" data-categories="jupyter,vcdisk" data-listing-date-sort="1670457600000" data-listing-file-modified-sort="1674143581231" data-listing-reading-time-sort="4.75">
<div class="thumbnail">
<p><a href="./posts/2022-12-08-vcdisk.html"> <img src="./posts/figures/2022-12-08_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-12-08-vcdisk.html">
<h3 class="no-anchor listing-title">
<code>vcdisk</code>: a python package for galaxy rotation curves
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
<div class="listing-category" onclick="window.quartoListingCategory('vcdisk'); return false;">
vcdisk
</div>
</div>
<a href="./posts/2022-12-08-vcdisk.html">
<div class="listing-description">
<p>This notebook presents a minimal python package that I wrote to solve Poisson’s equation in galactic disks. <code>vcdisk</code> is an handy toolbox of essential functions to compute the circular velocity of thick disks and flattened bulges of arbitrary surface density.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-12-08-vcdisk.html">
<div class="listing-date">
Dec 8, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="2" data-categories="neural_network,jupyter" data-listing-date-sort="1668556800000" data-listing-file-modified-sort="1674143581227" data-listing-reading-time-sort="7.54">
<div class="thumbnail">
<p><a href="./posts/2022-11-16-rotcurves_nn_mond.html"> <img src="./posts/figures/2022-11-16_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-11-16-rotcurves_nn_mond.html">
<h3 class="no-anchor listing-title">
A simple neural network to predict galaxy rotation curves from photometry
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('neural_network'); return false;">
neural_network
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2022-11-16-rotcurves_nn_mond.html">
<div class="listing-description">
<p>Designing a simple feedforward neural network, made with just linear layers, activations, and batch normalization, to predict rotation curves from galaxy surface brightness profiles. Comparison to the MOND empirical law.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-11-16-rotcurves_nn_mond.html">
<div class="listing-date">
Nov 16, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="3" data-categories="gaussian_processes" data-listing-date-sort="1667347200000" data-listing-file-modified-sort="1674143581227" data-listing-reading-time-sort="5.75">
<div class="thumbnail">
<p><a href="./posts/2022-11-02-gp_rotcurves.html"> <img src="./posts/figures/2022-11-02_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-11-02-gp_rotcurves.html">
<h3 class="no-anchor listing-title">
Rotation curve decompositions with Gaussian Processes: taking into account data correlations leads to unbiased results
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('gaussian_processes'); return false;">
gaussian_processes
</div>
</div>
<a href="./posts/2022-11-02-gp_rotcurves.html">
<div class="listing-description">
<p>Correlations between velocity measurements in disk galaxy rotation curves are usually neglected when fitting dynamical models. This notebook, which accompanies the paper <span>Posti (2022), Res. Notes AAS, 6, 233</span>, shows how data correlations can be taken into account in rotation curve decompositions using Gaussian Processes.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-11-02-gp_rotcurves.html">
<div class="listing-date">
Nov 2, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="4" data-categories="gaussian_processes,bayesian,jupyter" data-listing-date-sort="1665964800000" data-listing-file-modified-sort="1674143581219" data-listing-reading-time-sort="10.34">
<div class="thumbnail">
<p><a href="./posts/2022-10-17-gaussian-processes.html"> <img src="./posts/figures/2022-10-17_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-10-17-gaussian-processes.html">
<h3 class="no-anchor listing-title">
Gaussian Processes: modelling correlated noise in a dataset
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('gaussian_processes'); return false;">
gaussian_processes
</div>
<div class="listing-category" onclick="window.quartoListingCategory('bayesian'); return false;">
bayesian
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2022-10-17-gaussian-processes.html">
<div class="listing-description">
<p>Independent datapoints are most often just a convenient idealisation which can even hamper your model inference at times and bias your results. Learn how to embrace the reality of correlated noise in the data and marginalize the parameter posteriors with Gaussian Processes.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-10-17-gaussian-processes.html">
<div class="listing-date">
Oct 17, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="5" data-categories="neural_network,autoencoder,variational autoencoder,basics,jupyter" data-listing-date-sort="1665100800000" data-listing-file-modified-sort="1674143581219" data-listing-reading-time-sort="7.9">
<div class="thumbnail">
<p><a href="./posts/2022-10-07-variational-autoencoder-rotcurves.html"> <img src="./posts/figures/2022-10-07_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-10-07-variational-autoencoder-rotcurves.html">
<h3 class="no-anchor listing-title">
Variational Autoencoder: learning an underlying distribution and generating new data
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('neural_network'); return false;">
neural_network
</div>
<div class="listing-category" onclick="window.quartoListingCategory('autoencoder'); return false;">
autoencoder
</div>
<div class="listing-category" onclick="window.quartoListingCategory('variational autoencoder'); return false;">
variational autoencoder
</div>
<div class="listing-category" onclick="window.quartoListingCategory('basics'); return false;">
basics
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2022-10-07-variational-autoencoder-rotcurves.html">
<div class="listing-description">
<p>Constructing an autoencoder that learns the underlying distribution of the input data, generated from a multi-dimensional smooth function <code>f=f(x_1,x_2,x_3,x_4)</code>. This can be used to generate new data, sampling from the learned distribution</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-10-07-variational-autoencoder-rotcurves.html">
<div class="listing-date">
Oct 7, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="6" data-categories="neural_network,autoencoder,basics,jupyter" data-listing-date-sort="1654819200000" data-listing-file-modified-sort="1674143581203" data-listing-reading-time-sort="5.06">
<div class="thumbnail">
<p><a href="./posts/2022-06-10-autoencoder-rotcurves.html"> <img src="./posts/figures/2022-06-10_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-06-10-autoencoder-rotcurves.html">
<h3 class="no-anchor listing-title">
Autoencoder represents a multi-dimensional smooth function
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('neural_network'); return false;">
neural_network
</div>
<div class="listing-category" onclick="window.quartoListingCategory('autoencoder'); return false;">
autoencoder
</div>
<div class="listing-category" onclick="window.quartoListingCategory('basics'); return false;">
basics
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2022-06-10-autoencoder-rotcurves.html">
<div class="listing-description">
<p>Setting up a simple <code>Autoencoder</code> neural network to reproduce a dataset obtained by sampling a multi-dimensional smooth function <code>f=f(x_1,x_2,x_3,x_4)</code>. As an example I’m using a disc+halo rotation curve model where both components are described by 2-parameters circular velocities</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-06-10-autoencoder-rotcurves.html">
<div class="listing-date">
Jun 10, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="7" data-categories="neural_network,basics,jupyter" data-listing-date-sort="1647907200000" data-listing-file-modified-sort="1674143581199" data-listing-reading-time-sort="3.21">
<div class="thumbnail">
<a href="./posts/2022-03-22-nn-from-scratch.html">
<div class="thumbnail-image">

</div>
</a><p><a href="./posts/2022-03-22-nn-from-scratch.html"></a></p>
</div>
<div class="body">
<a href="./posts/2022-03-22-nn-from-scratch.html">
<h3 class="no-anchor listing-title">
Ground-up construction of a simple neural network
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('neural_network'); return false;">
neural_network
</div>
<div class="listing-category" onclick="window.quartoListingCategory('basics'); return false;">
basics
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2022-03-22-nn-from-scratch.html">
<div class="listing-description">
<p>Constructing a simple multi-layered neural network (NN) from scratch using pure <code>python</code> and a bit of <code>pytorch</code>. This is mostly my personal re-writing of the fantastic lesson 1 of the <code>fast.ai</code> <span>course Part 2</span></p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-03-22-nn-from-scratch.html">
<div class="listing-date">
Mar 22, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="8" data-categories="neural_network,basics,bayesian,MCMC,jupyter" data-listing-date-sort="1647561600000" data-listing-file-modified-sort="1674143581199" data-listing-reading-time-sort="8.53">
<div class="thumbnail">
<p><a href="./posts/2022-03-18-neurons-non-linearities.html"> <img src="./posts/figures/2022-03-18_image.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="./posts/2022-03-18-neurons-non-linearities.html">
<h3 class="no-anchor listing-title">
Understanding how basic linear NNs handle non-linearities
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('neural_network'); return false;">
neural_network
</div>
<div class="listing-category" onclick="window.quartoListingCategory('basics'); return false;">
basics
</div>
<div class="listing-category" onclick="window.quartoListingCategory('bayesian'); return false;">
bayesian
</div>
<div class="listing-category" onclick="window.quartoListingCategory('MCMC'); return false;">
MCMC
</div>
<div class="listing-category" onclick="window.quartoListingCategory('jupyter'); return false;">
jupyter
</div>
</div>
<a href="./posts/2022-03-18-neurons-non-linearities.html">
<div class="listing-description">
<p>A deep exploration, an visualization, of how a single-layer linear neural network (NN) is able to approximate non linear behaviours with a just handful of neurons and the magic of activation functions.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="./posts/2022-03-18-neurons-non-linearities.html">
<div class="listing-date">
Mar 18, 2022
</div>
<div class="listing-author">
Lorenzo Posti
</div>
</a>
</div>
</div>
</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>